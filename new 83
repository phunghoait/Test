"4. Trung tâm CNTT: 
Tìm ra giải pháp giám sát toàn trình từ khâu ký hợp đồng, 
cập nhật hợp đồng đến khâu lắp đặt; 
- Thống kê được tính tới thời điểm thống kê có bao nhiêu hợp đồng,
 phụ lục đang tồn ở Phòng bán hàng quá 15 phút chưa xử lý hoặc đẩy
 sang Trung tâm Viễn thông huyện, thành phố để thi công; có thời gian cụ thể 
 (tính toán toàn trình là 36h hay 48h Trung tâm Viễn thông chưa nghiệm thu, hoàn công).
- Có thể lấy báo cáo chi tiết, tổng hợp theo từng đơn vị hoặc toàn VNPT Lào Cai.
- Thời gian thực hiện: Xong trước ngày 01/06/2019"
@Phùng thiết kế thêm 1 báo cáo để thực hiện việc này, thêm các tiêu chí về thời 
gian thống kê vào input

















Trong mọi bữa tiệc, tôi hay để ý đến phần “hạ màn” - 
khi những người anh em từ biệt nhau về nhà, khi những ngọn đèn cuối cùng được tắt và 
khi tất cả những sự hào nhoáng qua đi.

Tôi nghĩ một trong những yếu tố nói lên rằng bạn đã đi qua tuổi trẻ nằm ở sự khác biệt 
trong cảm giác của những buổi tụ tập. Khi còn trẻ bạn nghĩ rằng mỗi lần đi chơi lại là 
một lần hoà mình vào một góc nào đó mới lạ của thế giới. Đến khi đã có tuổi một chút, đôi
 khi mọi người gặp nhau là vì một lí do khác.

Họ gặp nhau là để khuây khoả cho cảm giác trống trải trong lòng, để tìm người có thể 
hiểu được bóng ma quá khứ mà không thể giãi bày với ai cả, để nhớ lại những nụ cười vô 
tư của những ngày chẳng phải quan tâm gì tới tương lai. Đến một ngày cuộc sống đều thụi 
cho mỗi người một cú thật mạnh, và rồi chính bạn cũng hiểu rằng đấu tranh với nó thật là 
khó.

Vào khoảng khắc khi những thằng bạn tốt dù rất vui khi gặp nhau nhưng khi đứng lên ai
 cũng có một chút buồn quặn nhẹ đâu đó nơi ánh mắt của họ. Có người sẽ về với gia đình 
 vợ con, có người sẽ về lại với cuộc chiến trong nhà mà hồi trẻ mình chưa từng biết đến, 
 có người lại trở về với một góc tối và tiếp tục nung nấu ủ mưu.

Nếu đã xem Ma Trận phần 3, chắc hẳn bạn cũng đã từng đặc biệt ngỡ ngàng trước cảnh 
Trinity và Neo lao qua hàng mây và trong tích tắc nhìn thấy sự huy hoàng của ánh mặt
 trời trước khi một lần nữa bổ nhào xuống một trời khói lửa bên dưới trong nhiệm vụ 
 cứu thế của mình. Trong những lần tụ họp anh em, tôi đều nhìn thấy ở mọi người một
 khoảnh khắc như vậy. Một khoảnh khắc nhắc những người anh em về cảm giác của tuổi trẻ, 
 của huy hoàng và cả những sự cố gắng mà tất cả mọi người đang dồn cho cuộc sống của mình.

Những người khao khát làm được một điều gì đó to lớn sẽ hiểu cảm giác này. Đó là 
với những ước mơ bạn muốn đạt được trong đời, bạn chỉ có thể tự mình xây dựng chúng. 
Anh em, bạn bè, gia đình, tình cảm… Họ ở đó là để bên cạnh chia sẻ tinh thần chứ không 
phải để xây nó thay bạn. Thế nên, chỉ một vài giờ ở cạnh nhau giữa cuộc sống này đã là 
cực kỳ trân quý rồi.

Cũng nhờ thế mà tôi hiểu được rằng, bạn tốt không cần ngày nào cũng thấy mặt, nhưng 
mỗi khi gặp lại, mọi cảm xúc vẫn đều hiện rõ như mới chỉ ngày hôm qua.


select loaitbi_id from dslam where DSLAM_ID = 41504 
select * from dslam a where not EXISTS (select 1 from ecms_lci.tu_dslam where dslam_id = a.dslam_id)


select * from CSS_LCI.DSLAM where DSLAM_ID = 41504 
 ROWNUM < 10	


		select rownum stt,dvc.ten_dv,dv.ten_dv,dv.donvi_id,gp.phieu_id,a.hdtb_id, b.ma_gd,b.ngay_cn,nd.ten_nd,b.nguoi_cn,tonhom.ten_dv nhom_cn,to_char(a.ngay_tt,'dd/mm/yyyy hh24:mi') ngay_tt, to_char(a.ngay_ht,'dd/MM/yyyy hh24:mi') ngay_ht , c.loaihinh_tb
				 ,d.ten_kieuld,Decode (a.diachi_ld, '', a.diachi_tb, a.diachi_ld)  diachi_ld
				 ,to_char(b.ngay_yc, 'dd/MM/yyyy hh24:mi') ngay_yc, to_char(gp.ngaygiao, 'dd/mm/yyyy hh24:mi') ngaygiao,to_char(gp.ngay_th ,'dd/MM/yyyy hh24:mi') ngay_th
				 , css_lci.LAY_TG_XULY(b.ngay_yc,gp.ngaygiao) tg_tiepnhan --lay theo so gio
				 , css_lci.LAY_TG_XULY(b.ngay_yc,gp.ngay_th) tg_thuchien -- lay theo so gio
				 ,list_phieu.ds as nd_tra , a.ma_tb,a.ten_tb,a.ghichu, nv.ten_nv,list.ds as nguoi_th,kv.ten_kv
         from css_lci.hd_thuebao a, css_lci.hd_khachhang b, css_lci.giaophieu gp, css_lci.hdtb_kv hdkv, css_lci.khuvuc kv, 
         css_lci.loaihinh_tb c ,css_lci.kieu_ld d , admin_lci.nhanvien nv,ADMIN_LCI.NGUOIDUNG nd,ADMIN_LCI.DONVI tonhom,ADMIN_LCI.DONVI dvc,
         (Select * From  admin_lci.donvi start with donvi_id = 1 connect by prior donvi_id = donvi_cha_id) dv, 
				 (SELECT a.PHIEU_ID, LISTAGG(b.ten_nv, ' ') 
												WITHIN GROUP (ORDER BY NHANVIEN_TH_ID) as ds
												FROM (SELECT DISTINCT PHIEU_ID, nhanvien_th_id from CSS_LCI.GIAOPHIEU_NV) a 
												join ADMIN_LCI.NHANVIEN b on a.nhanvien_th_id = b.nhanvien_id
												GROUP BY a.PHIEU_ID) list, 
				 (SELECT  a.hdtb_id, LISTAGG(a.nd_tra, ' ') 
												WITHIN GROUP (ORDER BY a.hdtb_id) as ds
												FROM (SELECT DISTINCT hdtb_id, nd_tra from CSS_LCI.GIAOPHIEU 
													WHERE ngaytra is not null and huonggiao_id in (604,605,610)) a 												
												GROUP BY a.hdtb_id) list_phieu  
			where  a.hdkh_id = b.hdkh_id
         and a.loaitb_id = c.loaitb_id
         and a.kieuld_id = d.kieuld_id
				 and a.hdtb_id = hdkv.hdtb_id
				 and hdkv.khuvuc_id	= kv.khuvuc_id
				 and gp.phieu_id	= gnv.phieu_id(+)
			   and gp.phieu_id	= list.phieu_id(+)
				 and a.hdtb_id = list_phieu.hdtb_id(+) --MinhL thêm ngày 14/05
				 and gp.phieu_id	= listND_Tra.phieu_id(+)
         and nv.nhanvien_id = gp.nhanvien_th_id (+)
         and b.nguoi_cn = nd.ma_nd (+)
         and b.donvi_id = tonhom.donvi_id
         --and b.loaihd_id = ||vloaihd_id||
         --and Decode(||vloaitb_id||, 0, ||vloaitb_id||, a.loaitb_id) = ||vloaitb_id
			   and a.hdtb_id	= gp.hdtb_id






        if(vdichvuvt_id = 1) then --Co dinh
            ,css_lci.hdtb_cd cd
        elsif(vdichvuvt_id = 4) then --Internet
            ,css_lci.hdtb_adsl adsl
        elsif(vdichvuvt_id = 8) then
            ,css_lci.hdtb_mgwan mgw--megawan
        elsif(vdichvuvt_id = 9) then
            ,css_lci.hdtb_tsl tsl--TSL
        elsif(vdichvuvt_id = 10) then
            ,css_lci.hdtb_gp gph--Gphone
        elsif(vdichvuvt_id = 11) then
            ,css_lci.hdtb_ims ims--IMS
        end if;
         where  a.hdkh_id = b.hdkh_id
         and a.loaitb_id = c.loaitb_id
         and a.kieuld_id = d.kieuld_id
				 and a.hdtb_id = hdkv.hdtb_id
				 and hdkv.khuvuc_id	= kv.khuvuc_id
				 and gp.phieu_id	= gnv.phieu_id(+)
			   and gp.phieu_id	= list.phieu_id(+)
				 and a.hdtb_id = list_phieu.hdtb_id(+) --MinhL thêm ngày 14/05
				 and gp.phieu_id	= listND_Tra.phieu_id(+)
         and nv.nhanvien_id = gp.nhanvien_th_id (+)
         and b.nguoi_cn = nd.ma_nd (+)
         and b.donvi_id = tonhom.donvi_id
         --and b.loaihd_id = ||vloaihd_id||
         --and Decode(||vloaitb_id||, 0, ||vloaitb_id||, a.loaitb_id) = ||vloaitb_id
			   and a.hdtb_id	= gp.hdtb_id
        if(vdichvuvt_id = 1) then
             and a.hdtb_id = cd.hdtb_id
             and gp.donvi_nhan_id = dv.donvi_id
        end if;
        if(vdichvuvt_id = 4) then
            and a.hdtb_id = adsl.hdtb_id
            and gp.donvi_nhan_id = dv.donvi_id
            and ADMIN_LCI.LAY_DONVI_CHA(gp.donvi_nhan_id,2) = dvc.donvi_id
        end if;
        if(vdichvuvt_id = 8) then
             and a.hdtb_id = mgw.hdtb_id
             and gp.donvi_nhan_id = dv.donvi_id
             and ADMIN_LCI.LAY_DONVI_CHA(gp.donvi_nhan_id,2) = dvc.donvi_id
        end if;
        if(vdichvuvt_id = 9) then
             and a.hdtb_id = tsl.hdtb_id
             and gp.donvi_nhan_id = dv.donvi_id
             and ADMIN_LCI.LAY_DONVI_CHA(gp.donvi_nhan_id,2) = dvc.donvi_id
        end if;
        if(vdichvuvt_id = 10) then
            and a.hdtb_id = gph.hdtb_id
            and gp.donvi_nhan_id = dv.donvi_id
						and ADMIN_LCI.LAY_DONVI_CHA(gp.donvi_nhan_id,2) = dvc.donvi_id
        end if;
        if(vdichvuvt_id = 11) then
             and a.hdtb_id = ims.hdtb_id
             and gp.donvi_nhan_id = dv.donvi_id
             and ADMIN_LCI.LAY_DONVI_CHA(gp.donvi_nhan_id,2) = dvc.donvi_id
        end if;
       --Lap moi
        if(vloaihd_id =1) then
           if(vdichvuvt_id = 1) then--Lap moi co dinh
                 and gp.huonggiao_id =602
           elsif(vdichvuvt_id = 4) then--Lap moi ADSL
                 and gp.huonggiao_id in (604,605,610)
           elsif(vdichvuvt_id = 8) then--Lap moi Megawan
                 and gp.huonggiao_id =607
           elsif(vdichvuvt_id = 9) then--Lap moi TSL
                 and gp.huonggiao_id =608
           elsif(vdichvuvt_id = 11) then--Lap moi IMS
                 and gp.huonggiao_id =603
           end if;
        end if;
        --Di chuyen
        if(vloaihd_id = 3) then
           if(vdichvuvt_id = 1) then--Dich chuyen co dinh
                 and gp.huonggiao_id=621
           end if;
           if(vdichvuvt_id = 4) then--Dich chuyen ADSL
                 and gp.huonggiao_id in (623,624,628)
           end if;
           if(vdichvuvt_id = 8) then--Dich chuyen Megawan
                 and gp.huonggiao_id=626
           end if;
           if(vdichvuvt_id = 9) then--Dich chuyen TSL
                 and gp.huonggiao_id=627
           end if;
        end if;

        if(vloaihd_id = 6) then --Chuyen doi loai hinh thue bao
         if(vdichvuvt_id = 1) then--CDLH Co dinh
                 and gp.huonggiao_id =640
           end if;
         if(vdichvuvt_id = 9) then--CDLH TSL
                 and gp.huonggiao_id =639
           end if;
           if(vdichvuvt_id = 4) then--CDLH Internet
                 and gp.huonggiao_id in (636,637)
           end if;
           if(vdichvuvt_id = 8) then--CDLH Megawan
                 and gp.huonggiao_id=638
           end if;
        end if;

        if(vloaihd_id = 4) then --Hop dong thanh ly
           if(vdichvuvt_id = 1) then--Thanh ly co dinh
                 and gp.huonggiao_id in (726,733) 
           end if;
           if(vdichvuvt_id = 4) then--Thanh ly Internet
                 and gp.huonggiao_id in (334,327) 
           end if;
           if(vdichvuvt_id = 8) then--Thanh ly Megawan
                 and gp.huonggiao_id in (330,730) 
           end if;
           if(vdichvuvt_id = 9) then--Thanh ly TSL
                 and gp.huonggiao_id in (731,736) 
           end if;
           if(vdichvuvt_id = 11) then--Thanh ly IMS
                 and gp.huonggiao_id in (728,738) 
           end if;
        end if;

        if(vloaihd_id = 5) then --Thay doi thong so megawan
                 and gp.huonggiao_id =720
        end if;

        if(vloaihd_id = 7) then --Hop dong thay doi dich vu (mo khoa theo yc)
           if(vdichvuvt_id = 1) then-- thay doi dich vu co dinh
                 and gp.huonggiao_id = 248 
           end if;
           if(vdichvuvt_id = 11) then --thay doi dich vu IMS
                 and gp.huonggiao_id = 249 
           end if;
        end if;

        if(vloaihd_id = 8) then --Thay doi toc do ineternet
            and gp.huonggiao_id in (718,717,316)  -- chi ap dung doi thue bao mytv
        end if;

        if(vloaihd_id = 14) then --Doi so co dinh hoac Account
                 and gp.huonggiao_id =306
        end if;

        if(vloaihd_id = 16) then --Thay doi toc do TSL
                 and gp.huonggiao_id =721
        end if;

        if(vkieu = 0) then--Lay tat ca
                 and a.tthd_id in (4,5,6)
                 and a.ngay_ht >= TO_DATE('||vngay_bd||' 00:00:00','DD/MM/YYYY HH24:MI:SS')
                 and a.ngay_ht <= TO_DATE('||vngay_kt||' 23:59:59','DD/MM/YYYY HH24:MI:SS')
        elsif (vkieu = 1) then
                 and a.tthd_id in (4)
                 and a.ngay_tt >= TO_DATE('||vngay_bd||' 00:00:00','DD/MM/YYYY HH24:MI:SS')
                 and a.ngay_tt <= TO_DATE('||vngay_kt||' 23:59:59','DD/MM/YYYY HH24:MI:SS')
        elsif (vkieu = 2) then
                 and a.tthd_id in (5,6)
                 and a.ngay_ht >= TO_DATE('||vngay_bd||' 00:00:00','DD/MM/YYYY HH24:MI:SS')
                 and a.ngay_ht <= TO_DATE('||vngay_kt||' 23:59:59','DD/MM/YYYY HH24:MI:SS')
        end if;
                 and Decode('||vkieutb_id||', 0,'||vkieutb_id||', css_lci.LAY_THUEBAO_KM(a.hdtb_id,'||vkieutb_id||')) = '||vkieutb_id;
                 and gp.loaipt_id not in(2,3)
--------------------------------------------------------------------------------------------------------------
{?DB2}.baocaobp_lci.LAY_BAOCAO_THEO_DONVI









